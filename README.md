# Примитивная база данных

Простая реализация примитивной базы данных в рамках учебного проекта.

![](./demo.gif)

## Возможности

- Управление таблицами (создание, удаление, просмотр)
- CRUD операции (Создание, Чтение, Обновление, Удаление)
- Сохранение данных в формате JSON
- Валидация типов (int, str, bool)
- Красивый вывод таблиц для SELECT запросов

## Установка

```bash
make install
```

## Использование

```bash
make project
```

## Команды

### Управление таблицами

- `create_table имя_таблицы столбец1:тип1 столбец2:тип2 ...` - Создать новую таблицу
  - Допустимые типы: `int`, `str`, `bool`
  - Столбец ID добавляется автоматически
  - Пример: `create_table users name:str age:int is_active:bool`

- `drop_table имя_таблицы` - Удалить таблицу
  - Пример: `drop_table users`

- `list_tables` - Показать все таблицы с их столбцами

### CRUD Операции

- `insert into имя_таблицы values (значение1, значение2, ...)` - Создать запись
  - ID генерируется автоматически
  - Все поля обязательны (кроме ID)
  - Пример: `insert into users values ("Sergei", 28, true)`

- `select from имя_таблицы` - Прочитать все записи
  - Пример: `select from users`

- `select from имя_таблицы where столбец = значение` - Прочитать записи по условию
  - Пример: `select from users where age = 28`

- `update имя_таблицы set столбец = новое_значение where столбец = значение` - Обновить запись
  - Пример: `update users set age = 29 where name = "Sergei"`

- `delete from имя_таблицы where столбец = значение` - Удалить запись
  - Пример: `delete from users where ID = 1`

- `info имя_таблицы` - Показать информацию о таблице
  - Пример: `info users`

### Другие команды

- `help` - Показать справочное сообщение
- `exit` - Выйти из программы

## Пример сессии

```
Добро пожаловать в Primitive DB!
Введите 'help' для просмотра доступных команд или 'exit' для выхода

Введите команду: create_table users name:str age:int is_active:bool
Таблица 'users' успешно создана

Введите команду: insert into users values ("Sergei", 28, true)
Запись с ID=1 успешно добавлена в таблицу "users".

Введите команду: insert into users values ("Anna", 25, true)
Запись с ID=2 успешно добавлена в таблицу "users".

Введите команду: select from users
+----+--------+-----+-----------+
| ID |  name  | age | is_active |
+----+--------+-----+-----------+
| 1  | Sergei |  28 |    True   |
| 2  |  Anna  |  25 |    True   |
+----+--------+-----+-----------+

Введите команду: select from users where age = 28
+----+--------+-----+-----------+
| ID |  name  | age | is_active |
+----+--------+-----+-----------+
| 1  | Sergei |  28 |    True   |
+----+--------+-----+-----------+

Введите команду: update users set age = 29 where name = "Sergei"
Запись с ID=1 в таблице "users" успешно обновлена.

Введите команду: delete from users where ID = 1
Запись с ID=1 успешно удалена из таблицы "users".

Введите команду: info users
Таблица: users
Столбцы: ID:int, name:str, age:int, is_active:bool

Введите команду: exit
До свидания!
```

## Хранение данных

- Метаданные хранятся в `db_meta.json`
- Данные таблиц хранятся в `data/<имя_таблицы>.json`

## Линтинг

```bash
make lint
```

## Разработка

Построено с использованием:
- Python 3.9+
- Poetry для управления зависимостями
- PrettyTable для форматированного вывода
